![lodge-logo](https://github.com/lodge-logging/Lodge-CLI/blob/main/img/Lodge_logo_color.png)

![shields.io npm version badge](https://img.shields.io/npm/v/lodge-cli)
![shields.io npm license badge](https://img.shields.io/npm/l/lodge-cli)
![shields.io custom website link badge](https://img.shields.io/static/v1?label=website&message=lodge-logging.github.io&color=blue)

## Overview

Lodge is an open source self-managed logging framework for small, distributed applications based on the Elastic stack. Lodge allows users to ship, transform, store, visualize, and monitor their logs.


[Read our case study for more information about logging observability and to learn how we built Lodge.](https://lodge-logging.github.io)

## The Team

**[Sam Clark](https://www.linkedin.com/in/sam-clark-0aa74390/)** _Software Engineer_ Dallas, TX

**[Rana Deeb](https://www.linkedin.com/in/rana-deeb/)** _Software Engineer_ San Francisco, CA

**[Regina Donovan](https://www.linkedin.com/in/regina-donovan-82242040/)** _Software Engineer_ Atlanta, GA

**[Justin Lo](https://www.linkedin.com/in/justinkevinheilo/)** _Software Engineer_ Vancouver, BC

---

## Table of Contents

- [Dashboard Overview](https://github.com/lodge-logging/Lodge-CLI#dashboard-overview)
- [Shipping Logs](https://github.com/lodge-logging/Lodge-CLI#shipping-logs)
- [Managing Kafka and Zookeper](https://github.com/lodge-logging/Lodge-CLI#managing-kafka-and-zookeeper)
- [Using Lodge Restore](https://github.com/lodge-logging/Lodge-CLI#using-lodge-restore)
- [Using Kibana](https://github.com/lodge-logging/Lodge-CLI#using-kibana)
- [Helpful Resources](https://github.com/lodge-logging/Lodge-CLI#helpful-resources)

---

## Dashboard Overview

![dashboard-overview](https://github.com/lodge-logging/Lodge-CLI/blob/main/img/dashboard-overview.gif)

This is what Lodge looks like from a user’s perspective on a high level. The user has deployed Lodge on their network, so now all the applications in that network can ship logs to the stack using Filebeat, a subset of Beats specifically for collecting and forwarding log data. The user can then view those logs from the Lodge dashboard that is deployed with the stack.


---

## Shipping Logs

![shipping-logs](https://github.com/lodge-logging/Lodge-CLI/blob/main/img/shipping-logs.gif)

Simply remove the configuration file and create a brand new one based on the configuration generated from the Lodge Dashboard, specifically from the shippers section. Follow the instructions and pick the module that you would like to be incorporated into your filebeat config and download the module configuration file,  here is an example of the configuration that is dynamically generated by Lodge based on what module option you have selected.

---

## Managing Kafka and Zookeeper

![managing-kafka-and-zookeeper](https://github.com/lodge-logging/Lodge-CLI/blob/main/img/managing-kafka-and-zookeeper.gif)

In the Lodge dashboard, we have built in monitoring tools to manage Kafka and Zookeeper.

Kafka Kowl is a management tool that will allow the user to see a list of all the topics dynamically generated by filebeat when it ships logs to Kafka. Within the consumer group tab, we can see that logstash belongs to a consumer group that is consuming logs from Kafka topics and in the brokers tab we can see all the kafka brokers.

Heading over to ZooNavigator, it’s a management tool  that allows us to manage both kafka and zookeeper in one place. If we zoom into kafka, we have access to all things kafka, for example, list of kafka brokers, consumers, config, etc. 

---

## Using Lodge Restore 

![using-lodge-restore](https://github.com/lodge-logging/Lodge-CLI/blob/main/img/using-lodge-restore.gif)

Lodge Restore is a service that allows you to retrieve archival log data from Amazon S3 given a specific date range and to reindex the log data back into Elasticsearch to be visualized in Kibana. 

First, the user defines the start and end date to retrieve the archived logs from S3. A list of all the log files that are inserted into S3 during that time frame will be fetched and listed under log files. Once we see the success message, it indicates that the logs are re-indexed into Elasticsearch and are ready to be visualized in Kibana. 

You can also download the log files and here is the raw log text file that is downloaded. 

---

## Helpful Resources

- [AWS CLI Setup](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html)
- [Lodge Case Study](https://lodge-logging.github.io)

[npm]: https://www.npmjs.com/package/lodge-cli
