(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{340:function(e,t,i){"use strict";i.r(t);var s=i(0),a=i(15),n=i.n(a),c=i(12),r=i.n(c),l=i(17),o=i(5),d=i(13),j=i(1),b=function(e){var t=e.data,i=Object(s.useState)(""),a=Object(o.a)(i,2),n=a[0],c=a[1],r=function(e){c(e)};return Object(j.jsxs)("div",{className:"ui inverted visible left vertical sidebar menu",children:[Object(j.jsx)("div",{className:"item",children:Object(j.jsx)("img",{className:"ui small image",src:"/lodge-5.svg",alt:"lodge-logo"})}),Object(j.jsxs)(d.b,{to:"/home",className:"blue item ".concat("home"===n?"active":""),onClick:function(){return r("home")},children:[Object(j.jsx)("img",{className:"ui mini right spaced image",src:"/images/home.png",alt:"white-home-ugly"}),"Home"]}),Object(j.jsxs)(d.b,{to:"/shipper",className:"olive item ".concat("shipper"===n?"active":""),onClick:function(){return r("shipper")},children:[Object(j.jsx)("img",{className:"ui mini right spaced image",src:"/images/beats.png",alt:"lodge-filebeat"}),"Shippers"]}),Object(j.jsxs)(d.b,{to:"/kafka-Kowl",className:"blue item ".concat("kafka-Kowl"===n?"active":""),onClick:function(){return r("kafka-Kowl")},children:[Object(j.jsx)("img",{className:"ui mini right spaced image",src:"/images/kowl.png",alt:"kafka-kowl"}),"Kafka Kowl"]}),Object(j.jsxs)("a",{href:"http://".concat(t.hostIP,":8001/"),className:"olive item ".concat("zooNavigator"===n?"active":""),target:"_blank",rel:"noreferrer",onClick:function(){return r("zooNavigator")},children:[Object(j.jsx)("img",{className:"ui mini right spaced image",src:"/images/zoonav.png",alt:"zoonavigator"}),"ZooNavigator"]}),Object(j.jsxs)(d.b,{to:"/Lodge-Restore",className:"blue item ".concat("lodge-Restore"===n?"active":""),onClick:function(){return r("lodge-Restore")},children:[Object(j.jsx)("img",{className:"ui mini right spaced image",src:"/images/lodge-restore.png",alt:"lodge-restore"}),"Lodge-Restore"]}),Object(j.jsxs)(d.b,{to:"/kibana",className:"olive item ".concat("kibana"===n?"active":""),onClick:function(){return r("kibana")},children:[Object(j.jsx)("img",{className:"ui mini right spaced image",src:"/images/kibana.png",alt:"lodge-kibana"}),"Kibana"]}),Object(j.jsxs)(d.b,{to:"/documentation",className:"olive item ".concat("documentation"===n?"active":""),onClick:function(){return r("documentation")},children:[Object(j.jsx)("img",{className:"ui mini right spaced image",src:"/images/docs.png",alt:"lodge-documentation"}),"Documentation"]})]})},u=function(e){var t=e.children,i=e.title,s=e.description,a=e.url;return Object(j.jsx)("div",{className:"pusher",style:{marginRight:"18em"},children:Object(j.jsxs)("div",{className:"ui basic segment",children:[Object(j.jsx)("h3",{className:"ui header",children:i}),Object(j.jsxs)("p",{children:[Object(j.jsx)("i",{children:s}),a?Object(j.jsx)("a",{href:a,target:"_blank",rel:"noreferrer",children:i}):null]}),t]})})},h=i(4),m=i(21),g=i.n(m),O=i(53),x=(i(120),function(e){var t=e.setDate;return Object(j.jsx)(O.a,{onChange:function(e,i){t(i.value)}})}),f=function(e){var t=e.title,i=e.content,s=e.setShowMessage;return Object(j.jsxs)("div",{className:"ui info message",children:[Object(j.jsx)("i",{className:"close icon",onClick:function(){s(!1)}}),Object(j.jsx)("div",{className:"header",children:t}),Object(j.jsx)("p",{children:i})]})},v=function(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),i=t[0],a=t[1],n=Object(s.useState)(""),c=Object(o.a)(n,2),d=c[0],b=c[1],u=Object(s.useState)(!1),h=Object(o.a)(u,2),m=h[0],O=h[1],v=Object(s.useState)(""),p=Object(o.a)(v,2),k=p[0],N=p[1],w=Object(s.useState)([]),y=Object(o.a)(w,2),F=y[0],S=y[1],L=function(){var e=Object(l.a)(r.a.mark((function e(t){var s,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s={startDate:i,endDate:d},e.next=4,g()({method:"post",url:"/s3",data:s});case 4:200===(a=e.sent).status?(O(!0),N(a.data.message),S(a.data.retrievedFile)):O(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"ui basic segment",style:{minHeight:"90vh",minWidth:"100%"},children:[Object(j.jsx)("p",{children:Object(j.jsx)("i",{children:"Lodge-Restore allows you to retrieve archival log data from S3 based on a specific date range and reindex it back into Elasticsearch to be visualized in Kibana."})}),m?Object(j.jsx)(f,{title:"Success",content:k,setShowMessage:O}):null,Object(j.jsxs)("form",{className:"ui form",children:[Object(j.jsxs)("div",{className:"field",children:[Object(j.jsx)("label",{children:"Start Date"}),Object(j.jsx)("div",{className:"field",children:Object(j.jsx)(x,{setDate:a})}),Object(j.jsx)("label",{children:"End Date"}),Object(j.jsx)("div",{className:"field",children:Object(j.jsx)(x,{setDate:b})})]}),Object(j.jsx)("button",{className:"ui button teal",type:"submit",onClick:L,children:"Retrieve"})]}),F.length>0?Object(j.jsx)("div",{className:"ui segment",children:Object(j.jsxs)("div",{className:"ui middle aligned divided list",children:[Object(j.jsx)("div",{className:"item",children:Object(j.jsx)("div",{children:Object(j.jsx)("strong",{children:"Log Files"})})}),F.map((function(e,t){return Object(j.jsxs)("div",{className:"item",children:[Object(j.jsx)("div",{className:"right floated content",children:Object(j.jsx)("a",{href:"/s3?filekey=".concat(e),children:Object(j.jsx)("i",{className:"download icon"})})}),Object(j.jsx)("i",{className:"file alternate icon"}),Object(j.jsx)("div",{className:"content",children:e})]},t)}))]})}):null]})})},p=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"ui fluid center aligned container",children:[Object(j.jsx)("div",{class:"ui hidden divider"}),Object(j.jsx)("div",{class:"ui hidden divider"}),Object(j.jsx)("div",{class:"ui hidden divider"}),Object(j.jsx)("div",{class:"ui hidden divider"}),Object(j.jsx)("div",{class:"ui hidden divider"}),Object(j.jsxs)("div",{class:"ui basic segment",children:[Object(j.jsx)("img",{className:"ui medium spaced image",src:"/4verbs-bold-removebg.png",alt:"lodge-elk-high-level"}),Object(j.jsx)("img",{className:"ui large spaced image",src:"/4-verbs-diagram-dashboard.png",alt:"lodge-elk-high-level"})]})]}),Object(j.jsx)("div",{class:"ui hidden divider"}),Object(j.jsx)("div",{class:"ui hidden divider"}),Object(j.jsx)("div",{class:"ui hidden divider"}),Object(j.jsx)("div",{class:"ui hidden divider"}),Object(j.jsx)("div",{class:"ui hidden divider"}),Object(j.jsx)("div",{class:"ui hidden divider"}),Object(j.jsx)("div",{class:"ui hidden divider"}),Object(j.jsx)("div",{class:"ui hidden divider"}),Object(j.jsxs)("div",{className:"ui fluid center aligned container",children:[Object(j.jsx)("h3",{children:"Welcome to Lodge - your end-to-end log data pipeline. Check out our documentation to get started."}),Object(j.jsx)("button",{className:"ui teal button",children:"Lodge Documentation"})]})]})},k=function(e){var t=e.srcLink,i=e.title;return Object(j.jsx)("iframe",{src:t,title:i,style:{minHeight:"90vh",minWidth:"100%"}})},N=i(354),w=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("p",{children:["If you don't have filebeat already installed, start with installing",Object(j.jsx)("a",{href:"https://www.elastic.co/guide/en/beats/filebeat/current/filebeat-installation-configuration.html#installation",target:"_blank",rel:"noreferrer",children:"\xa0Filebeat 7.15"})]})})},y=function(e){var t=e.choices,i=Object(s.useState)(""),a=Object(o.a)(i,2),n=a[0],c=a[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{children:"Configure Filebeat by selecting a module to download, we currently support Nginx, MongoDB, PostgreSQL, etc.."}),Object(j.jsx)("p",{children:Object(j.jsx)("i",{children:"Note: If your logtype is not available, you will need to manually configure Filebeat as well as add the appropriate grok pattern to Logstash."})}),Object(j.jsxs)("form",{className:"ui form",children:[Object(j.jsx)("div",{className:"field",children:Object(j.jsxs)("select",{className:"ui dropdown",onChange:function(e){return c(e.target.value)},defaultValue:"",children:[Object(j.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"Select a module"}),t.map((function(e,t){return Object(j.jsx)("option",{value:e,children:e},t)}))]})}),Object(j.jsx)("a",{className:"ui button ".concat(n?"":"disabled"),href:"/download?module=".concat(n),children:"Download"})]})]})},F=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(N.a,{language:"yaml",children:"/etc/filebeat/filebeat.yml"})})},S=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{children:"Start or restart Filebeat."}),Object(j.jsx)("p",{children:Object(j.jsxs)("i",{children:["Check the \xa0",Object(j.jsx)("a",{href:"https://www.elastic.co/guide/en/beats/filebeat/master/filebeat-starting.html",target:"_blank",rel:"noreferrer",children:"Filebeat documentation"}),"\xa0for the specific command to start Filebeat based on your operating system."]})})]})},L=function(e){var t=e.number,i=e.title,s=e.content,a=e.color;return Object(j.jsxs)("div",{className:"ui raised segment",children:[Object(j.jsxs)("div",{className:"ui ".concat(a," ribbon label"),children:["Step",t]}),Object(j.jsx)("span",{children:Object(j.jsx)("strong",{children:i})}),s]})},C=function(){var e=Object(s.useState)([]),t=Object(o.a)(e,2),i=t[0],a=t[1];return Object(s.useEffect)((function(){function e(){return(e=Object(l.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/filebeatModules");case 2:t=e.sent,a(t.data.modules);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{children:"Lodge uses Filebeat to collect and ship logs. Please follow the instructions below to begin shipping logs to Lodge."}),Object(j.jsx)(L,{number:"1",color:"red",title:"Install Filebeat",content:Object(j.jsx)(w,{})}),Object(j.jsx)(L,{number:"2",color:"blue",title:"Select a Module and Download the yaml file",content:Object(j.jsx)(y,{choices:i})}),Object(j.jsx)(L,{number:"3",color:"yellow",title:"Move the configuration file downloaded to the Filebeat folder",content:Object(j.jsx)(F,{})}),Object(j.jsx)(L,{number:"4",color:"green",title:"Start Filebeat",content:Object(j.jsx)(S,{})})]})},K=function(){return Object(j.jsx)("div",{className:"ui basic segment",style:{minHeight:"90vh",minWidth:"100%"},children:Object(j.jsx)(C,{})})},D=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"ui basic segment",children:[Object(j.jsx)("h2",{className:"ui header",children:"Overview"}),Object(j.jsx)("div",{className:"ui segment",children:Object(j.jsxs)("p",{children:["Thank you for using Lodge. This dashboard gathers a series of open source tools to allow you to generate configuration files for shipping logs to your stack, manage all of its component clusters, and restore archived logs in one place.",Object(j.jsx)("p",{children:"To start shipping logs to your stack, please click the Shippers tab on the left and follow the instructions. To manage the component clusters of your stack, you have ZooNavigator, Kowl, and Kibana for Zookeeper, Kafka, and Elasticsearch, respectively. Lastly, for re-indexing data from S3 archive back into Elasticsearch, you have Lodge-Restore. For more information on using these open source tools, please see the documentation links in the Resources section below."})]})}),Object(j.jsx)("img",{className:"ui massive right spaced image",src:"/lodge-elk.png",alt:"lodge-elk-high-level"})]})})};var R=function(){var e=Object(s.useState)({}),t=Object(o.a)(e,2),i=t[0],a=t[1];Object(s.useEffect)((function(){function e(){return e=Object(l.a)(r.a.mark((function e(){var t,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/data");case 2:return t=e.sent,e.next=5,t.json();case 5:i=e.sent,a(i);case 7:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var n="http://".concat(i.kibanaHost,"/?auth_provider_hint=anonymous1#/elasticsearch/nodes?_g=(....)"),c="http://".concat(i.hostIP,":8080/");return Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(b,{data:i}),Object(j.jsxs)(h.c,{children:[Object(j.jsx)(h.a,{path:"/home",element:Object(j.jsx)(u,{children:Object(j.jsx)(p,{})})}),Object(j.jsx)(h.a,{path:"/shipper",element:Object(j.jsx)(u,{children:Object(j.jsx)(K,{}),title:"Filebeat as a Shipper"})}),Object(j.jsx)(h.a,{path:"/kibana",element:Object(j.jsx)(u,{children:Object(j.jsx)(u,{children:Object(j.jsx)(k,{srcLink:n,title:"kibana"}),title:"Kibana",description:"Kibana allows you to search, analyze, and visualize log data in real time.",url:"http://".concat(i.kibanaHost)})})}),Object(j.jsx)(h.a,{path:"/kafka-Kowl",element:Object(j.jsx)(u,{children:Object(j.jsx)(u,{children:Object(j.jsx)(k,{srcLink:c,title:"Kowl"}),title:"kafka-Kowl",description:"Kafka Kowl allows you to do data exploration, consumer lag monitoring and provide Kafka topic insights.",url:c})})}),Object(j.jsx)(h.a,{path:"/Lodge-Restore",element:Object(j.jsx)(u,{children:Object(j.jsx)(v,{}),title:"Lodge-Restore"})}),Object(j.jsx)(h.a,{path:"/documentation",element:Object(j.jsx)(u,{children:Object(j.jsx)(D,{}),title:"Documenation"})}),Object(j.jsx)(h.a,{path:"/",element:Object(j.jsx)(u,{children:Object(j.jsx)(p,{})})})]})]})})},E=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,355)).then((function(t){var i=t.getCLS,s=t.getFID,a=t.getFCP,n=t.getLCP,c=t.getTTFB;i(e),s(e),a(e),n(e),c(e)}))};n.a.render(Object(j.jsx)(R,{}),document.getElementById("root")),E()},97:function(e,t,i){var s={"./bg-BG.json":98,"./ca-ES.json":99,"./cs-CZ.json":100,"./de-DE.json":101,"./el-GR.json":102,"./en-US.json":42,"./es-ES.json":103,"./et-EE.json":104,"./fi-FI.json":105,"./fr-FR.json":106,"./he-IL.json":107,"./it-IT.json":108,"./ja-JP.json":109,"./ko-KR.json":110,"./nb-NO.json":111,"./nn-NO.json":112,"./pl-PL.json":113,"./pt-BR.json":114,"./ro-RO.json":115,"./ru-RU.json":116,"./sv-SE.json":117,"./tr-TR.json":118,"./zh-CN.json":119};function a(e){var t=n(e);return i(t)}function n(e){if(!i.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}a.keys=function(){return Object.keys(s)},a.resolve=n,e.exports=a,a.id=97}},[[340,1,2]]]);
//# sourceMappingURL=main.5dca934d.chunk.js.map